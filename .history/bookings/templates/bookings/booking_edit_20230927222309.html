{% extends 'base.html' %}
{% load static %}
{% load crispy_forms_tags %}

{% block content %}

<div class="container">
    <div class="row justify-content-center">
        <div class="col-md-6 text-center bg-light border border-lg">
            <h2 class="mt5 mb-4"> Edit Booking</h2>
            <form method="post" class="mt-5">
                {% csrf_token %}
                <div class="form-group">
                    <label for="{{ form.date.id_for_label }}">Date:</label>
                    {{ form.date }}
                </div><br>

                <div class="form-group">
                    <label for="{{ form.time.id_for_label }}">Time:</label>
                    {{ form.time }}
                </div><br>

                <div class="form-group">
                    <label for="{{ form.num.guests.id_for_label }}">Number of Guests:</label>
                    {{ form.num_guests }}
                </div><br>

                <div class="form-group">
                    <label for="{{ form.notes.id_for_label }}">Notes:</label>
                    {{ form.notes }}
                </div><br>

                <input type="submit" value="Submit">
            </form>
        </div>
    </div>
</div>

<script>
    document.getElementById('id_date').placeholder = '{{ form.instance.date}}';
    document.getElementById('id_time').placeholder = '{{ form.instance.get_time_display}}';
    document.getElementById('id_num_guests').placeholder = '{{ form.instance.num_guests}}';
    document.getElementById('id_table').placeholder = '{{ form.instance.table}}';
    document.getElementById('id_notes').placeholder = '{{ form.instance.notes}}';

  
    // // JavaScript to prevent selecting a past date
    // const dateInput = document.getElementById("{{ form.date.auto_id }}");
    //     dateInput.addEventListener('change', function() {
    //         const today = new Date().toISOString().split('T')[0];
    //         if (dateInput.value < today) {
    //             dateInput.value = today;
    //         }
    //     });

    // // JavaScript to prevent selecting a past time
    // const timeInput = document.getElementById("{{ form.time.auto_id }}");

    // timeInput.addEventListener('change', function() {
    //     const selectedTime = new Date(`2000-01-01T${timeInput.value}`);
    //     const now = new Date();

    //     if (selectedTime < now) {
    //         const hours = now.getHours().toString().padStart(2, '0');
    //         const minutes = now.getMinutes().toString().padStart(2, '0');
    //         timeInput.value = `${hours}:${minutes}`;
    //     }
    // });

</script>


{% endblock%}
